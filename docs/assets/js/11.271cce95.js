(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{737:function(t,s,a){t.exports=a.p+"assets/img/hive_process.9765adac.jpg"},795:function(t,s,a){"use strict";a.r(s);var n=a(49),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h3",{attrs:{id:"hive-笔记"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hive-笔记"}},[t._v("#")]),t._v(" Hive 笔记")]),t._v(" "),n("h3",{attrs:{id:"hive-工作原理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hive-工作原理"}},[t._v("#")]),t._v(" Hive 工作原理")]),t._v(" "),n("p",[n("img",{attrs:{src:a(737),alt:"Hive 工作原理"}})]),t._v(" "),n("h3",{attrs:{id:"特点"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[t._v("#")]),t._v(" 特点")]),t._v(" "),n("ul",[n("li",[t._v("普通表：表结构元数据及数据在 HDFS 中")]),t._v(" "),n("li",[t._v("外部表：表结构元数据在 HDFS 中，实际数据在表结构 LOCATION 参数指定的文件路径中")])]),t._v(" "),n("h3",{attrs:{id:"hive-sql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#hive-sql"}},[t._v("#")]),t._v(" Hive SQL")]),t._v(" "),n("h4",{attrs:{id:"数据类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[t._v("#")]),t._v(" 数据类型")]),t._v(" "),n("ul",[n("li",[t._v("列类型\n"),n("ul",[n("li",[t._v("整型\n"),n("ul",[n("li",[t._v("TINYINT, 后缀 Y")]),t._v(" "),n("li",[t._v("SMALLINT, 后缀 S")]),t._v(" "),n("li",[t._v("INT")]),t._v(" "),n("li",[t._v("BIGINT, 后缀 L")])])]),t._v(" "),n("li",[t._v("字符串\n"),n("ul",[n("li",[t._v("VARCHAR, 长度 1~65535")]),t._v(" "),n("li",[t._v("CHAR, 长度 255")])])]),t._v(" "),n("li",[t._v("时间\n"),n("ul",[n("li",[t._v("支持 UNIX 时间戳（可选纳秒的精度）")]),t._v(" "),n("li",[t._v("支持 java.sql.Timestamp 格式: YYYY-MM-DD HH:MM:SS.ffffffffff 和 YYYY-MM-DD HH:MM:ss.ffffffffff")])])]),t._v(" "),n("li",[t._v("日期: 如 YYYY-MM-DD")]),t._v(" "),n("li",[t._v("小数: DECIMAL(precision, scale), 例 decimal(10, 0)")]),t._v(" "),n("li",[t._v("联合类型: 是异类的数据类型的集合\n"),n("ul",[n("li",[t._v("语法: "),n("code",[t._v("UNIONTYPE<int, double, array<string>, struct<a: int, b: string>>")])]),t._v(" "),n("li",[t._v('示例:{0:1}, {1:2.0}, {2:["three", "four"]}, {3:{"a": 5, "b": "five"}}')])])])])]),t._v(" "),n("li",[t._v("文字\n"),n("ul",[n("li",[t._v("浮点类型")]),t._v(" "),n("li",[t._v("十进制类型")])])]),t._v(" "),n("li",[t._v("Null 值: 缺少值通过特殊值 Null 表示")]),t._v(" "),n("li",[t._v("复杂类型\n"),n("ul",[n("li",[t._v("数组: "),n("code",[t._v("Array<dataType>")])]),t._v(" "),n("li",[t._v("映射: "),n("code",[t._v("Map<primitiveType, dataType>")])]),t._v(" "),n("li",[t._v("结构体: "),n("code",[t._v("Struct<colName, dataType [COMMENT colComment], ...>")])])])])]),t._v(" "),n("h4",{attrs:{id:"内置运算符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内置运算符"}},[t._v("#")]),t._v(" 内置运算符")]),t._v(" "),n("ul",[n("li",[t._v("关系运算符\n"),n("ul",[n("li",[t._v("=, !=")]),t._v(" "),n("li",[t._v("<, >")]),t._v(" "),n("li",[t._v("<=, >=")]),t._v(" "),n("li",[t._v("IS NULL, IS NOT NULL")]),t._v(" "),n("li",[t._v("LIKE, RLIKE")]),t._v(" "),n("li",[t._v("REGEXP（等同于 RLIKE）")])])]),t._v(" "),n("li",[t._v("算术运算符\n"),n("ul",[n("li",[n("code",[t._v("+, -, *, /, %")])]),t._v(" "),n("li",[t._v("&, |, ^, ~")])])]),t._v(" "),n("li",[t._v("逻辑运算符\n"),n("ul",[n("li",[t._v("AND, &&")]),t._v(" "),n("li",[t._v("OR, ||")]),t._v(" "),n("li",[t._v("NOT, !")])])]),t._v(" "),n("li",[t._v("复杂运算符\n"),n("ul",[n("li",[t._v("A[n] 访问数组 A 第 n 个元素（n>=0)")]),t._v(" "),n("li",[t._v("M[key] 访问映射中关键字 key 的值")]),t._v(" "),n("li",[t._v("S.x 访问结构 S 的字段 s 值")])])])]),t._v(" "),n("h4",{attrs:{id:"内置函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#内置函数"}},[t._v("#")]),t._v(" 内置函数")]),t._v(" "),n("ul",[n("li",[t._v("round, floor, ceil, rand")]),t._v(" "),n("li",[t._v("concat, substr")]),t._v(" "),n("li",[t._v("upper, ucase, lower, lcase")]),t._v(" "),n("li",[t._v("trim, ltrim, rtrime")]),t._v(" "),n("li",[t._v("regexp_replace")]),t._v(" "),n("li",[t._v("size")]),t._v(" "),n("li",[t._v("cast")]),t._v(" "),n("li",[t._v("from_unixtime, to_date, year, month, day")]),t._v(" "),n("li",[t._v("get_json_object")]),t._v(" "),n("li",[t._v("聚合函数: count, sum, avg, min, max")])]),t._v(" "),n("h4",{attrs:{id:"dml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dml"}},[t._v("#")]),t._v(" DML")]),t._v(" "),n("h5",{attrs:{id:"操作数据库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#操作数据库"}},[t._v("#")]),t._v(" 操作数据库")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建数据库语法: CREATE DATABASE|SCHEMA [IF NOT EXISTS] <databaseName>")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" userdb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 或")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("schema")]),t._v(" userdb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 查看数据库")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("databases")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 删了数据库语法: DROP DATABASE StatementDROP (DATABASE|SCHEMA) [IF EXISTS] databaseName [RESTRICT|CASCADE];")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),t._v(" userdb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("database")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),t._v(" userdb "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("cascade")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- CASCADE 意味着需求删除所有相应表才能删库")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("schema")]),t._v(" userdb"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h5",{attrs:{id:"操作表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#操作表"}},[t._v("#")]),t._v(" 操作表")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建表语法:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TEMPORARY")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("EXTERNAL"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("dbName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" tableName\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("colName datatType "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" colComment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" tableComment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ROW")]),t._v(" FORMAT rowFormat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("STORED "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" fileFormat"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),t._v(" employee\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  eid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  name String"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  salary String"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  desigination String\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("comment")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Employee details'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),t._v(" format delimited "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fields")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("terminated")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\t'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("lines")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("terminated")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),t._v("\nstored "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" textfile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 修改表语法:")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RENAME")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TO")]),t._v(" newTableName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLUMNS")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("colSpec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colSpec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLUMN")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" columnName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName CHANGE columnName newColumnName newType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("REPLACE")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLUMNS")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("colSpec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" colSpec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("rename")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("to")]),t._v(" emp"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 修改表名")]),t._v("\n\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee change name ename String"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 更改字段")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee change salary salary "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("Double")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("add")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("columns")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  dept String "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Department name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 添加字段")]),t._v("\n\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("replace")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("columns")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  eid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" empid "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ename string name string\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 替换列???")]),t._v("\n")])])]),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 删除表语法: DROP TABLE [IF EXISTS] tableName;")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),t._v(" employee"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 查看表")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("show")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tables")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h5",{attrs:{id:"加载数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加载数据"}},[t._v("#")]),t._v(" 加载数据")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("load")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("data")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LOCAL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" inpath "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'filePath'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OVERWRITE"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("partCol1"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("val1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" partCol2"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("val2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("load")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("data")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" inpath "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/home/user/sample.txt'")]),t._v(" overwrite "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("into")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h5",{attrs:{id:"分区操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#分区操作"}},[t._v("#")]),t._v(" 分区操作")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 添加分区")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v("\npartitionSpec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("LOCATION "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'location1'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\npartitionSpec "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("LOCATION "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'location2'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\npartitionSpec:\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pColumn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pColValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" pColumn "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pColValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ADD")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2013'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" location "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/2012/part2012'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 重命名分区")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v(" partitionSpec "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RENAME")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TO")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v(" partitionSpec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1203'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RENAME")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TO")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Yoj"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1203'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 删除分区")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" tableName\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("IF")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("EXISTS")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v(" partitionSpec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PARTITION")]),t._v(" partitionSpec"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例")]),t._v("\nalert "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("partition")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("year")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1203'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h5",{attrs:{id:"视图操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#视图操作"}},[t._v("#")]),t._v(" 视图操作")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建视图语法:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VIEW")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("not")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("exists")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" viewName "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("columnName "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" columnComment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" tableComment"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" emp_30000 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AS")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" employee\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" salary "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 删除视图语法:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("VIEW")]),t._v(" viewName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("view")]),t._v(" emp_30000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h5",{attrs:{id:"索引操作"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#索引操作"}},[t._v("#")]),t._v(" 索引操作")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 创建索引语法:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" indexName\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" baseTableName "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("colName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'index.handler.class.name'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" deferred rebuild"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("idxproperties "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("propertyName"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("propertyValue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" indexTableName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("partitioned "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("colName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("row")]),t._v(" format "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" stored "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" stored "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("location hdfsPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("tblproperties "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("create")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" index_salary "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("table")]),t._v(" employee"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("salary"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.apache.hadoop.hive.ql.index.compact.CompactIndexHandler'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 删除索引语法:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" indexName "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" tableName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("drop")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v(" indexSalary "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" employee"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h4",{attrs:{id:"dql"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dql"}},[t._v("#")]),t._v(" DQL")]),t._v(" "),n("h5",{attrs:{id:"select"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#select"}},[t._v("#")]),t._v(" select")]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ALL")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DISTINCT")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" selectExpr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" selectExpr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" tableReference\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" whereCondition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("GROUP")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" colList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("HAVING")]),t._v(" havingCondition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CLUSTER "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" colList "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("DISTRIBUTE "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" colList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("SORT "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" colList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ORDER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BY")]),t._v(" colList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LIMIT")]),t._v(" number"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- 示例:")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("where")]),t._v(" salary "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Dept "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("order")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" dept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" Dept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("count")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" employee "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" dept"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h5",{attrs:{id:"join"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#join"}},[t._v("#")]),t._v(" join")]),t._v(" "),n("ul",[n("li",[t._v("语法")])]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[t._v("tableReference "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" tableFactor "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("joinCondition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" tableReference {"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEFT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RIGHT")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FULL")]),t._v("} "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("OUTER")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" tableReference\njoinCondition\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" tableReference "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEFT")]),t._v(" SEMI "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" tableReference joinCondition\n"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" tableReference "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CROSS")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" tableReference "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("joinCondition"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),n("ul",[n("li",[t._v("示例")])]),t._v(" "),n("div",{staticClass:"language-sql extra-class"},[n("pre",{pre:!0,attrs:{class:"language-sql"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Amount\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" customers c "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" orders o\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Amount\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" customers c "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("LEFT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("OUTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" orders o\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Amount\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" customers c "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("RIGHT")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("OUTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" orders o\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- full outer join 连接表包含两个表的所有记录（缺少匹配的一侧为 NULL）")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Age"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Amount\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" customers c "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FULL")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("OUTER")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("JOIN")]),t._v(" orders o\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("on")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customer_id "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),n("h3",{attrs:{id:"参考"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[t._v("#")]),t._v(" 参考")]),t._v(" "),n("ul",[n("li",[t._v("hive(数据仓库工具) https://baike.baidu.com/item/hive/67986?fr=aladdin")]),t._v(" "),n("li",[t._v("Hive 教程 https://www.yiibai.com/hive")])]),t._v(" "),n("h3",{attrs:{id:"记录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#记录"}},[t._v("#")]),t._v(" 记录")]),t._v(" "),n("ul",[n("li",[t._v("2019/12/28 16:23 周六 创建")])])])}),[],!1,null,null,null);s.default=e.exports}}]);