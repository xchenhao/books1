(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{848:function(t,s,a){"use strict";a.r(s);var _=a(25),r=Object(_.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"版本类问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#版本类问题"}},[t._v("#")]),t._v(" 版本类问题")]),t._v(" "),a("ol",[a("li",[t._v("你之前工作中使用的是什么版本的 MySQL？为什么选择这个版本？")]),t._v(" "),a("li",[t._v("如何决定是否要对 MySQL 进行升级？如何进行升级？")]),t._v(" "),a("li",[t._v("最新的 MySQL 版本是什么？它有什么特性比较吸引你？")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("为什么选择某一 MySQL 版本？")]),t._v(" "),a("p",[t._v("知识点：")]),t._v(" "),a("ul",[a("li",[t._v("MySQL 常见的发行版")])]),t._v(" "),a("p",[t._v("​\tMySQL 官方版本 "),a("a",{attrs:{href:"https://dev.mysql.com/downloads/mysql",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dev.mysql.com/downloads/mysql"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("​\tPercona MySQL "),a("a",{attrs:{href:"https://www.percona.com/downloads/Percona-Server-LASTEST/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.percona.com/downloads/Percona-Server-LASTEST/"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("​\tMariaDB "),a("a",{attrs:{href:"https://downloads.mariadb.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://downloads.mariadb.org/"),a("OutboundLink")],1)]),t._v(" "),a("ul",[a("li",[a("p",[t._v("各个发行版之间的区别及优缺点")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th"),t._v(" "),a("th",[t._v("MySQL")]),t._v(" "),a("th",[t._v("Percona MySQL")]),t._v(" "),a("th",[t._v("MariaDB")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("strong",[t._v("服务器特性")])]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("开源")]),t._v(" "),a("td",[t._v("开源")]),t._v(" "),a("td",[t._v("开源")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("支持分区表")]),t._v(" "),a("td",[t._v("支持分区表")]),t._v(" "),a("td",[t._v("支持分区表")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("InnoDB")]),t._v(" "),a("td",[t._v("XtraDB")]),t._v(" "),a("td",[t._v("XtraDB")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("企业版监控工具"),a("br"),t._v("社会版不提供")]),t._v(" "),a("td",[t._v("Percona Monitor 工具")]),t._v(" "),a("td",[t._v("Monyog")])]),t._v(" "),a("tr",[a("td",[a("strong",[t._v("高可用特性")])]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("基于日志点复制")]),t._v(" "),a("td",[t._v("基于日志点复制")]),t._v(" "),a("td",[t._v("基于日志点复制")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("基于 GTID 复制")]),t._v(" "),a("td",[t._v("基于 GTID 复制")]),t._v(" "),a("td",[t._v("基于 GTID 复制"),a("br"),t._v("但 GTID 同 MySQL 不兼容")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("MGR")]),t._v(" "),a("td",[t._v("MGR & PXC")]),t._v(" "),a("td",[t._v("Galera Cluster")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("MySQL Router")]),t._v(" "),a("td",[t._v("Proxy SQL")]),t._v(" "),a("td",[t._v("MaxScale")])])])])])]),t._v(" "),a("p",[t._v("| "),a("strong",[t._v("安全特性")]),t._v("   |                                             |                                            |                                             |\n|                | 企业版防火墙                                | ProxySQL FireWall                          | MaxScale FireWall                           |\n|                | 企业版用户审计                              | 审计日志                                   | 审计日志                                    |\n|                | 用户密码生命周期                            | 用户密码生命周期                           | -                                           |\n|                | sha256_passsword"),a("br"),t._v("caching_sha2_password | sha256_password"),a("br"),t._v("caching_sha2_password | ed25519"),a("br"),t._v("sha256_password                |\n| "),a("strong",[t._v("开发及管理")]),t._v(" |                                             |                                            |                                             |\n|                | 窗口函数（8.0）                             | 窗口函数（8.0）                            | 窗口函数（8.0）                             |\n|                | -                                           | -                                          | 支持基于日志回滚                            |\n|                | -                                           | -                                          | 支持记在表中记录修改                        |\n|                | Super read_only                             | Super read_only                            | -                                           |")])]),t._v(" "),a("li",[a("p",[t._v("如何对 MySQL 进行升级？")]),t._v(" "),a("p",[t._v("知识点")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("在对 MySQL 进行升级前要考虑什么？")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("升级可以给业务带来的益处")]),t._v(" "),a("p",[t._v("是否可以解决业务上某一方面的痛点\n是否可以解决运维上某一方面的痛点")])]),t._v(" "),a("li",[a("p",[t._v("升级可能对业务带来的影响")]),t._v(" "),a("p",[t._v("对原业务程序的支持是否有影响\n对原业务程序的性能是否有影响")])]),t._v(" "),a("li",[a("p",[t._v("数据库升级方案的制定")]),t._v(" "),a("p",[t._v("升级后的数据库环境检查\n升级后的业务检查")])]),t._v(" "),a("li",[a("p",[t._v("升级失败的回滚方案")]),t._v(" "),a("p",[t._v("升级失败回滚的步骤\n回滚后的数据库环境检查\n回滚后的业务检查")])])])]),t._v(" "),a("li",[a("p",[t._v("MySQL 升级的步骤")]),t._v(" "),a("ol",[a("li",[t._v("对待升级数据库进行备份")]),t._v(" "),a("li",[t._v("升级 Slave 服务器版本")]),t._v(" "),a("li",[t._v("手动进行主从切换")]),t._v(" "),a("li",[t._v("升级 Master 服务器版本")]),t._v(" "),a("li",[t._v("升级完成后进行业务检查")])])])])]),t._v(" "),a("li",[a("p",[t._v("最新的 MySQL 版本及其新特性")]),t._v(" "),a("p",[t._v("知识点")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("MySQL 8.0 版本主要的新特性")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("功能类别")]),t._v(" "),a("th",[t._v("新特性")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("服务器功能")]),t._v(" "),a("td",[t._v("所有元数据使用InnoDB引擎存储，无frm文件")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("系统表采用InnoDB存储并采用独立表空间")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("支持定义资源管理组（目前仅支持CPU资源）")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("支持不可见索引和降序索引支持直方图优化")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("支持窗口函数")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("支持在线修改全局参数持久化")])]),t._v(" "),a("tr",[a("td",[t._v("用户及安全")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("默认使用caching-sha2-password认证插件")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("新增支持定义角色（role）")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("新增密码历史记录功能，限制重复使用密码")])]),t._v(" "),a("tr",[a("td",[t._v("InnoDB 功能")]),t._v(" "),a("td")]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("InnoDB DDL语句支持原子操作")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("支持在线修改UNDO表空间")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("新增管理视图用于监控INNODB表状态")])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("新增innodb dedicated server配置项")])])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 定义资源组")]),t._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("h create resource group\nName: "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CREATE RESOURCE GROUP'")]),t._v("\nDescription:\nsyntax: CREATE RESOURCE GROUP group_name\n\tTYPE "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("SYSTEM"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("VCPU "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" vcpu_spec "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(", vcpu_spec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("THREAD PRIORITY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" N"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("ENABLE"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("DISABLET"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nvcpu_spec: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("N "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" M - N"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" create resourge group imooc "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("user "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("VCPU")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("O "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("THREAD_PRIORITY")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from information_schema.resource_groups"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from performance_schema.threads limit "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" * from performance_schema.threads order by "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("id")]),t._v(" desc limit "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nTHREAD_ID: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("84")]),t._v("\nNAME: thread/sql/one_connection\nTYPE: FOREGROUND\nPROCESSLIST_ID: "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n"),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" row "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.00")]),t._v(" sec"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmysql"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" resource group imooc "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("84")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])])])])])}),[],!1,null,null,null);s.default=r.exports}}]);